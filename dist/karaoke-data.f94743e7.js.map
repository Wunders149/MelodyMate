{"mappings":"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","sources":["<anon>","src/scripts/karaoke-data.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    var parcelRequire = $parcel$global[\"parcelRequireb585\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"dCMSQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"karaokeAPI\", () => $9eb4be3be44267fc$export$2442f58801ab9981);\n$parcel$export(module.exports, \"demoSongs\", () => $9eb4be3be44267fc$export$480f8b29a0bbbf6b);\n// Karaoke API Integration - LRCLIB and PoYo timestamped lyrics\nclass $9eb4be3be44267fc$var$KaraokeAPI {\n    constructor(){\n        this.lrclibBase = 'https://lrclib.net/api';\n        this.poyoBase = 'https://api.poyo.ai';\n    }\n    // Search for songs using LRCLIB\n    async searchSongs(query, artist = '') {\n        try {\n            const searchQuery = artist ? `${artist} ${query}` : query;\n            const response = await fetch(`${this.lrclibBase}/search?q=${encodeURIComponent(searchQuery)}`);\n            if (!response.ok) throw new Error('Search failed');\n            const data = await response.json();\n            return data.slice(0, 10); // Return top 10 results\n        } catch (error) {\n            console.error('LRCLIB search error:', error);\n            return [];\n        }\n    }\n    // Get timestamped lyrics from LRCLIB\n    async getTimestampedLyrics(trackName, artistName, albumName = '', duration = 0) {\n        try {\n            const params = new URLSearchParams({\n                track_name: trackName,\n                artist_name: artistName,\n                album_name: albumName,\n                duration: Math.floor(duration)\n            });\n            const response = await fetch(`${this.lrclibBase}/get?${params}`);\n            if (!response.ok) throw new Error('Lyrics not found');\n            const data = await response.json();\n            if (data.syncedLyrics) return this.parseLRCLyrics(data.syncedLyrics);\n            else if (data.plainLyrics) // Fallback to plain lyrics with estimated timestamps\n            return this.createEstimatedTimestamps(data.plainLyrics, duration);\n            return null;\n        } catch (error) {\n            console.error('LRCLIB lyrics error:', error);\n            return null;\n        }\n    }\n    // Parse LRCLIB timestamped lyrics format [mm:ss.xx]lyrics\n    parseLRCLyrics(lyricsText) {\n        const lines = lyricsText.split('\\n');\n        const parsedLyrics = [];\n        lines.forEach((line)=>{\n            const match = line.match(/\\[(\\d+):(\\d+\\.\\d+)\\](.*)/);\n            if (match) {\n                const minutes = parseInt(match[1]);\n                const seconds = parseFloat(match[2]);\n                const time = minutes * 60 + seconds;\n                const text = match[3].trim();\n                if (text) parsedLyrics.push({\n                    time: time,\n                    text: text\n                });\n            }\n        });\n        return parsedLyrics.sort((a, b)=>a.time - b.time);\n    }\n    // Create estimated timestamps for plain lyrics\n    createEstimatedTimestamps(plainLyrics, duration) {\n        const lines = plainLyrics.split('\\n').filter((line)=>line.trim());\n        const parsedLyrics = [];\n        const timePerLine = duration / lines.length;\n        lines.forEach((line, index)=>{\n            parsedLyrics.push({\n                time: index * timePerLine,\n                text: line.trim()\n            });\n        });\n        return parsedLyrics;\n    }\n    // Try PoYo API as fallback\n    async getPoyoLyrics(trackName, artistName) {\n        try {\n            const response = await fetch(`${this.poyoBase}/lyrics`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    track: trackName,\n                    artist: artistName\n                })\n            });\n            if (!response.ok) throw new Error('PoYo API failed');\n            const data = await response.json();\n            if (data.lyrics && data.lyrics.length > 0) return data.lyrics.map((line)=>({\n                    time: line.time,\n                    text: line.text\n                }));\n            return null;\n        } catch (error) {\n            console.error('PoYo API error:', error);\n            return null;\n        }\n    }\n    // Main function to get lyrics for a song\n    async getLyrics(trackName, artistName, albumName = '', duration = 0) {\n        // Try LRCLIB first\n        let lyrics = await this.getTimestampedLyrics(trackName, artistName, albumName, duration);\n        // If LRCLIB fails, try PoYo\n        if (!lyrics) lyrics = await this.getPoyoLyrics(trackName, artistName);\n        return lyrics;\n    }\n    // Search and get complete song data\n    async searchAndGetSong(trackName, artistName) {\n        const searchResults = await this.searchSongs(trackName, artistName);\n        if (searchResults.length === 0) return null;\n        // Get the best match (first result)\n        const song = searchResults[0];\n        const lyrics = await this.getLyrics(song.name, song.artistName, song.albumName, song.duration);\n        if (!lyrics) return null;\n        return {\n            id: `${song.artistName}-${song.name}`.toLowerCase().replace(/\\s+/g, '-'),\n            title: song.name,\n            artist: song.artistName,\n            album: song.albumName,\n            duration: song.duration,\n            instrumental: this.generateInstrumentalUrl(song),\n            lyrics: lyrics,\n            source: 'api'\n        };\n    }\n    // Generate a placeholder instrumental URL (in a real app, you'd have actual instrumentals)\n    generateInstrumentalUrl(song) {\n        // For demo purposes, return a placeholder\n        // In production, you'd have a database of instrumental tracks\n        return `https://www.soundjay.com/misc/sounds/bell-ringing-05.wav`;\n    }\n}\n// Create global API instance\nconst $9eb4be3be44267fc$export$2442f58801ab9981 = new $9eb4be3be44267fc$var$KaraokeAPI();\n// For backward compatibility, keep some demo songs\nconst $9eb4be3be44267fc$export$480f8b29a0bbbf6b = {\n    \"happy-birthday\": {\n        title: \"Happy Birthday\",\n        artist: \"Traditional\",\n        instrumental: \"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav\",\n        duration: 30,\n        lyrics: [\n            {\n                time: 0,\n                text: \"Happy birthday to you,\"\n            },\n            {\n                time: 5,\n                text: \"Happy birthday to you,\"\n            },\n            {\n                time: 10,\n                text: \"Happy birthday dear [Name],\"\n            },\n            {\n                time: 15,\n                text: \"Happy birthday to you!\"\n            }\n        ]\n    }\n};\n\n});\n\n\n//# sourceMappingURL=karaoke-data.f94743e7.js.map\n","// Karaoke API Integration - LRCLIB and PoYo timestamped lyrics\r\nclass KaraokeAPI {\r\n  constructor() {\r\n    this.lrclibBase = 'https://lrclib.net/api';\r\n    this.poyoBase = 'https://api.poyo.ai';\r\n  }\r\n\r\n  // Search for songs using LRCLIB\r\n  async searchSongs(query, artist = '') {\r\n    try {\r\n      const searchQuery = artist ? `${artist} ${query}` : query;\r\n      const response = await fetch(`${this.lrclibBase}/search?q=${encodeURIComponent(searchQuery)}`);\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Search failed');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data.slice(0, 10); // Return top 10 results\r\n    } catch (error) {\r\n      console.error('LRCLIB search error:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  // Get timestamped lyrics from LRCLIB\r\n  async getTimestampedLyrics(trackName, artistName, albumName = '', duration = 0) {\r\n    try {\r\n      const params = new URLSearchParams({\r\n        track_name: trackName,\r\n        artist_name: artistName,\r\n        album_name: albumName,\r\n        duration: Math.floor(duration)\r\n      });\r\n\r\n      const response = await fetch(`${this.lrclibBase}/get?${params}`);\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Lyrics not found');\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.syncedLyrics) {\r\n        return this.parseLRCLyrics(data.syncedLyrics);\r\n      } else if (data.plainLyrics) {\r\n        // Fallback to plain lyrics with estimated timestamps\r\n        return this.createEstimatedTimestamps(data.plainLyrics, duration);\r\n      }\r\n\r\n      return null;\r\n    } catch (error) {\r\n      console.error('LRCLIB lyrics error:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Parse LRCLIB timestamped lyrics format [mm:ss.xx]lyrics\r\n  parseLRCLyrics(lyricsText) {\r\n    const lines = lyricsText.split('\\n');\r\n    const parsedLyrics = [];\r\n\r\n    lines.forEach(line => {\r\n      const match = line.match(/\\[(\\d+):(\\d+\\.\\d+)\\](.*)/);\r\n      if (match) {\r\n        const minutes = parseInt(match[1]);\r\n        const seconds = parseFloat(match[2]);\r\n        const time = minutes * 60 + seconds;\r\n        const text = match[3].trim();\r\n\r\n        if (text) {\r\n          parsedLyrics.push({ time, text });\r\n        }\r\n      }\r\n    });\r\n\r\n    return parsedLyrics.sort((a, b) => a.time - b.time);\r\n  }\r\n\r\n  // Create estimated timestamps for plain lyrics\r\n  createEstimatedTimestamps(plainLyrics, duration) {\r\n    const lines = plainLyrics.split('\\n').filter(line => line.trim());\r\n    const parsedLyrics = [];\r\n    const timePerLine = duration / lines.length;\r\n\r\n    lines.forEach((line, index) => {\r\n      parsedLyrics.push({\r\n        time: index * timePerLine,\r\n        text: line.trim()\r\n      });\r\n    });\r\n\r\n    return parsedLyrics;\r\n  }\r\n\r\n  // Try PoYo API as fallback\r\n  async getPoyoLyrics(trackName, artistName) {\r\n    try {\r\n      const response = await fetch(`${this.poyoBase}/lyrics`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          track: trackName,\r\n          artist: artistName\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('PoYo API failed');\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.lyrics && data.lyrics.length > 0) {\r\n        return data.lyrics.map(line => ({\r\n          time: line.time,\r\n          text: line.text\r\n        }));\r\n      }\r\n\r\n      return null;\r\n    } catch (error) {\r\n      console.error('PoYo API error:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Main function to get lyrics for a song\r\n  async getLyrics(trackName, artistName, albumName = '', duration = 0) {\r\n    // Try LRCLIB first\r\n    let lyrics = await this.getTimestampedLyrics(trackName, artistName, albumName, duration);\r\n\r\n    // If LRCLIB fails, try PoYo\r\n    if (!lyrics) {\r\n      lyrics = await this.getPoyoLyrics(trackName, artistName);\r\n    }\r\n\r\n    return lyrics;\r\n  }\r\n\r\n  // Search and get complete song data\r\n  async searchAndGetSong(trackName, artistName) {\r\n    const searchResults = await this.searchSongs(trackName, artistName);\r\n\r\n    if (searchResults.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    // Get the best match (first result)\r\n    const song = searchResults[0];\r\n    const lyrics = await this.getLyrics(song.name, song.artistName, song.albumName, song.duration);\r\n\r\n    if (!lyrics) {\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      id: `${song.artistName}-${song.name}`.toLowerCase().replace(/\\s+/g, '-'),\r\n      title: song.name,\r\n      artist: song.artistName,\r\n      album: song.albumName,\r\n      duration: song.duration,\r\n      instrumental: this.generateInstrumentalUrl(song), // We'll create a placeholder\r\n      lyrics: lyrics,\r\n      source: 'api'\r\n    };\r\n  }\r\n\r\n  // Generate a placeholder instrumental URL (in a real app, you'd have actual instrumentals)\r\n  generateInstrumentalUrl(song) {\r\n    // For demo purposes, return a placeholder\r\n    // In production, you'd have a database of instrumental tracks\r\n    return `https://www.soundjay.com/misc/sounds/bell-ringing-05.wav`;\r\n  }\r\n}\r\n\r\n// Create global API instance\r\nconst karaokeAPI = new KaraokeAPI();\r\n\r\n// For backward compatibility, keep some demo songs\r\nconst demoSongs = {\r\n  \"happy-birthday\": {\r\n    title: \"Happy Birthday\",\r\n    artist: \"Traditional\",\r\n    instrumental: \"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav\",\r\n    duration: 30,\r\n    lyrics: [\r\n      { time: 0, text: \"Happy birthday to you,\" },\r\n      { time: 5, text: \"Happy birthday to you,\" },\r\n      { time: 10, text: \"Happy birthday dear [Name],\" },\r\n      { time: 15, text: \"Happy birthday to you!\" }\r\n    ]\r\n  }\r\n};\r\n\r\nexport { karaokeAPI, demoSongs };"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRegister","parcelRequire","$parcel$global","globalThis","register","module","exports","$9eb4be3be44267fc$export$2442f58801ab9981","$9eb4be3be44267fc$export$480f8b29a0bbbf6b","lrclibBase","poyoBase","searchSongs","query","artist","searchQuery","response","fetch","encodeURIComponent","ok","Error","data","json","slice","error","console","getTimestampedLyrics","trackName","artistName","albumName","duration","params","URLSearchParams","track_name","artist_name","album_name","Math","floor","syncedLyrics","parseLRCLyrics","plainLyrics","createEstimatedTimestamps","lyricsText","lines","split","parsedLyrics","forEach","line","match","minutes","parseInt","seconds","parseFloat","text","trim","push","time","sort","a","b","filter","timePerLine","length","index","getPoyoLyrics","method","headers","body","JSON","stringify","track","lyrics","map","getLyrics","searchAndGetSong","searchResults","song","name","id","toLowerCase","replace","title","album","instrumental","generateInstrumentalUrl","source"],"version":3,"file":"karaoke-data.f94743e7.js.map"}